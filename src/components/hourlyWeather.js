import React from 'react';
import { useWeatherData } from './ApiManager';
import { kelvinToCelsius } from './reusable';

function HourlyWeatherBox({ lat, long }) {
  const { forecastData } = useWeatherData(lat, long );

  if (!forecastData || !forecastData.list) {
    return <div>Loading...</div>;
  }

  // Extract the next 5 hours of forecast data
  const next5HoursForecast = forecastData.list.slice(1, 6);

  return (
    <div className="hourly-weather-box">
      <div className="hourly-weather-list">
        {next5HoursForecast.map((forecast, index) => {
          const description = forecast.weather[0].description.toLowerCase();
          let icon;

          if (description.includes('overcast clouds')) {
            // SVG ICONS CAN BE CHANGED, just make sure when changing icons, inside the svg path element, the fill = "currentColor", do NOT use the images from image folder
            icon = 
              <svg className='weatherIcon' width="44.4675" height="32.6095" fill="none" viewBox="0 0 30 22" xmlns="http://www.w3.org/2000/svg" alt="Overcast Clouds">
                <path d="M0 14.0363C0 12.3959 0.513494 10.941 1.54048 9.65731C2.56747 8.37357 3.86547 7.54628 5.44874 7.18968C5.89091 5.23555 6.90364 3.63802 8.45838 2.38281C10.0131 1.1276 11.8104 0.5 13.8215 0.5C15.7899 0.5 17.5444 1.11334 19.0849 2.32576C20.6253 3.53817 21.6238 5.10718 22.0802 7.01852H22.5509C23.8347 7.01852 25.0186 7.33232 26.1026 7.94566C27.1866 8.559 28.0567 9.41482 28.6843 10.4989C29.3119 11.5829 29.64 12.7525 29.64 14.0363C29.64 15.2915 29.3405 16.4611 28.7414 17.5309C28.1423 18.6007 27.315 19.4565 26.2738 20.0983C25.2325 20.7402 24.0772 21.0825 22.8362 21.1253H6.84658C4.93525 21.0398 3.32345 20.3123 1.99692 18.943C0.670395 17.5879 0 15.9476 0 14.0363ZM2.4391 14.0363C2.4391 15.2772 2.86701 16.347 3.72283 17.2599C4.57865 18.1727 5.6199 18.6577 6.84658 18.729H22.8077C24.0344 18.672 25.0756 18.1727 25.9314 17.2599C26.8015 16.347 27.2294 15.2629 27.2294 14.0363C27.2294 12.7811 26.7587 11.7113 25.8316 10.7984C24.9044 9.88552 23.8061 9.42909 22.5224 9.42909H20.2402C20.0833 9.42909 19.9977 9.3435 19.9977 9.17234L19.8979 8.35931C19.741 6.81883 19.0706 5.52083 17.901 4.47958C16.7313 3.43833 15.3763 2.91057 13.8215 2.91057C12.2668 2.91057 10.8975 3.43833 9.75638 4.47958C8.60102 5.52083 7.94489 6.81883 7.80225 8.35931L7.68814 9.17234C7.68814 9.3435 7.5883 9.42909 7.40287 9.42909H6.64689C5.44874 9.57172 4.45028 10.0852 3.65151 10.9553C2.85274 11.8254 2.4391 12.8524 2.4391 14.0363Z" fill="currentColor"/>
              </svg>; //maybe diff img here too?

          } else if (description.includes('clear sky')) {
            icon =
              <svg width="44" height="44" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg" alt="Clear Sky">
                <path d="M0 21.84C0 21.3464 0.16452 20.9146 0.514124 20.565C0.863729 20.2359 1.29559 20.0714 1.74802 20.0714H5.94328C6.41627 20.0714 6.80701 20.2359 7.13605 20.5855C7.44452 20.9351 7.60904 21.3464 7.60904 21.84C7.60904 22.3336 7.46508 22.7449 7.15661 23.0945C6.84814 23.4441 6.43684 23.6086 5.96384 23.6086H1.76859C1.29559 23.6086 0.884294 23.4441 0.53469 23.0945C0.185085 22.7449 0 22.3336 0 21.84ZM5.88158 36.0915C5.88158 35.6185 6.0461 35.2072 6.35458 34.8371L9.37763 31.8963C9.6861 31.5672 10.0974 31.4233 10.591 31.4233C11.0845 31.4233 11.4958 31.5878 11.8249 31.8963C12.1539 32.2047 12.3184 32.5955 12.3184 33.0685C12.3184 33.562 12.1539 34.0145 11.8249 34.3846L8.90463 37.3049C8.06147 37.9629 7.2183 37.9629 6.37514 37.3049C6.0461 36.9758 5.88158 36.5645 5.88158 36.0915ZM5.88158 7.6296C5.88158 7.15661 6.0461 6.74531 6.35458 6.37514C6.76588 6.02554 7.19774 5.86102 7.67074 5.86102C8.12316 5.86102 8.53446 6.02554 8.88407 6.35458L11.8249 9.37763C12.1539 9.6861 12.3184 10.0974 12.3184 10.591C12.3184 11.0845 12.1539 11.4958 11.8249 11.8249C11.4958 12.1539 11.0845 12.3184 10.591 12.3184C10.0974 12.3184 9.6861 12.1539 9.37763 11.8249L6.37514 8.88407C6.0461 8.55503 5.88158 8.12316 5.88158 7.6296ZM11.1256 21.84C11.1256 19.9275 11.5986 18.1383 12.5652 16.4931C13.5318 14.8479 14.8273 13.5318 16.4931 12.5652C18.1589 11.5986 19.9275 11.1256 21.84 11.1256C23.2795 11.1256 24.6574 11.4136 25.9941 11.9894C27.3103 12.5652 28.4619 13.3261 29.4079 14.2927C30.3745 15.2592 31.1354 16.3903 31.6906 17.7064C32.2459 19.0226 32.5338 20.421 32.5338 21.8606C32.5338 23.7937 32.0608 25.5828 31.0942 27.228C30.1277 28.8732 28.8321 30.1688 27.1869 31.1354C25.5417 32.1019 23.7525 32.5749 21.8194 32.5749C19.8863 32.5749 18.0972 32.1019 16.452 31.1354C14.8068 30.1688 13.5112 28.8732 12.5446 27.228C11.6192 25.5623 11.1256 23.7731 11.1256 21.84ZM14.6217 21.84C14.6217 23.8554 15.3209 25.5623 16.7399 26.9812C18.1383 28.4002 19.8452 29.12 21.8606 29.12C23.8759 29.12 25.5828 28.4002 27.0018 26.9812C28.4208 25.5623 29.1406 23.8554 29.1406 21.84C29.1406 19.8658 28.4208 18.1794 27.0018 16.7605C25.5828 15.362 23.8759 14.6628 21.8606 14.6628C19.8658 14.6628 18.1589 15.362 16.7605 16.7605C15.3209 18.1794 14.6217 19.8658 14.6217 21.84ZM20.092 37.8395C20.092 37.346 20.2565 36.9347 20.6061 36.6056C20.9557 36.2766 21.367 36.1121 21.84 36.1121C22.3336 36.1121 22.7654 36.2766 23.0945 36.6056C23.4235 36.9347 23.588 37.346 23.588 37.8395V41.932C23.588 42.4255 23.4235 42.8574 23.0739 43.207C22.7243 43.5566 22.313 43.7211 21.84 43.7211C21.367 43.7211 20.9351 43.5566 20.6061 43.207C20.2565 42.8574 20.092 42.4255 20.092 41.932V37.8395ZM20.092 5.96384V1.76859C20.092 1.29559 20.2565 0.884294 20.6061 0.53469C20.9557 0.185085 21.367 0 21.8606 0C22.3541 0 22.7449 0.16452 23.0945 0.514124C23.4441 0.863729 23.6086 1.27503 23.6086 1.74802V5.96384C23.6086 6.43684 23.4441 6.82757 23.0945 7.15661C22.7449 7.48565 22.3336 7.6296 21.8606 7.6296C21.3876 7.6296 20.9557 7.46508 20.6267 7.15661C20.2976 6.84814 20.092 6.43684 20.092 5.96384ZM31.4438 33.0685C31.4438 32.5955 31.6084 32.2047 31.9168 31.9168C32.2253 31.5878 32.616 31.4438 33.0685 31.4438C33.562 31.4438 33.9733 31.6084 34.3024 31.9168L37.3049 34.8576C37.6339 35.2072 37.7984 35.6391 37.7984 36.1121C37.7984 36.5851 37.6339 36.9964 37.3049 37.3254C36.4823 37.9629 35.6597 37.9629 34.8371 37.3254L31.9168 34.4052C31.6084 34.035 31.4438 33.6032 31.4438 33.0685ZM31.4438 10.6115C31.4438 10.0974 31.6084 9.6861 31.9168 9.39819L34.8371 6.37514C35.1867 6.0461 35.598 5.88158 36.0504 5.88158C36.544 5.88158 36.9553 6.0461 37.2843 6.39571C37.6339 6.74531 37.7984 7.15661 37.7984 7.6296C37.7984 8.14373 37.6339 8.57559 37.3049 8.90463L34.3024 11.8454C33.9322 12.1745 33.5209 12.339 33.0685 12.339C32.5955 12.339 32.2253 12.1745 31.9168 11.8454C31.6084 11.5164 31.4438 11.1051 31.4438 10.6115ZM36.0915 21.84C36.0915 21.3464 36.256 20.9351 36.5851 20.565C36.9141 20.2359 37.3049 20.0714 37.7573 20.0714H41.9114C42.3844 20.0714 42.7957 20.2565 43.1453 20.6061C43.4949 20.9557 43.68 21.367 43.68 21.84C43.68 22.313 43.4949 22.7243 43.1453 23.0739C42.7957 23.4235 42.3844 23.588 41.9114 23.588H37.7573C37.2843 23.588 36.873 23.4235 36.5645 23.0739C36.256 22.7243 36.0915 22.3336 36.0915 21.84Z" fill="currentColor"/>
              </svg>


          } else if (description.includes('rain')) {
            icon = 
              <svg width="46.8" height="45.9" viewBox="0 0 52 51" fill="none" xmlns="http://www.w3.org/2000/svg" alt="Rain">
                <g filter="url(#filter0_d_5_4)">
                  <path d="M4 19.9541C4 17.531 4.75855 15.3818 6.27566 13.4854C7.79276 11.589 9.71022 10.388 12.028 9.84011C12.6812 6.97447 14.1773 4.61453 16.474 2.76029C18.7707 0.906049 21.4046 0 24.3756 0C27.2834 0 29.854 0.90605 32.1297 2.69708C34.4053 4.4881 35.8803 6.8059 36.5546 9.62941H37.2288C39.1041 9.62941 40.853 10.093 42.4544 10.999C44.0558 11.9051 45.3411 13.1693 46.2682 14.7496C47.1954 16.33 47.68 18.0788 47.68 19.9541C47.68 21.8084 47.2375 23.5151 46.3525 25.0955C45.4676 26.6758 44.2454 27.94 42.7073 28.8882C41.1691 29.8364 39.4834 30.3421 37.6502 30.3843C37.3763 30.3843 37.2288 30.2578 37.2288 30.026V27.2236C37.2288 26.9708 37.3763 26.8443 37.6502 26.8443C39.4413 26.7601 40.9794 26.0436 42.2437 24.6951C43.508 23.3466 44.1401 21.7662 44.1401 19.9331C44.1401 18.0999 43.4447 16.5196 42.0751 15.1711C40.7055 13.8225 39.0831 13.1482 37.2078 13.1482H33.8153C33.5625 13.1482 33.4361 13.0218 33.4361 12.79L33.2675 11.5679C33.0357 9.29227 32.0454 7.37482 30.3386 5.85771C28.6108 4.31954 26.6302 3.56098 24.3334 3.56098C22.0367 3.56098 20.0139 4.31954 18.3282 5.85771C16.6215 7.39589 15.6733 9.29227 15.4626 11.5679L15.3151 12.6847C15.3151 12.9375 15.1676 13.085 14.8937 13.085L13.7769 13.1482C12.028 13.359 10.5531 14.1175 9.35201 15.4028C8.15097 16.6882 7.56098 18.2053 7.56098 19.9541C7.56098 21.7873 8.19311 23.3676 9.45737 24.7162C10.7216 26.0647 12.2598 26.7811 14.0508 26.8654C14.2826 26.8654 14.409 26.9918 14.409 27.2447V30.0471C14.409 30.2789 14.2826 30.4053 14.0508 30.4053C11.2273 30.2789 8.84631 29.2043 6.88672 27.1815C4.92712 25.1587 4 22.7566 4 19.9541ZM15.2729 34.0506C15.2729 33.9663 15.294 33.8188 15.3572 33.6292L18.7918 21.4713C18.9182 21.0709 19.15 20.7548 19.466 20.5441C19.7821 20.3334 20.1192 20.2281 20.4353 20.2281C20.5828 20.2281 20.7514 20.2491 20.941 20.2913C21.4467 20.3756 21.826 20.6495 22.0788 21.0709C22.3317 21.4923 22.3949 21.9559 22.2474 22.4827L18.8128 34.5563C18.56 35.4623 17.97 35.9048 17.085 35.9048C17.0008 35.9048 16.9375 35.8838 16.8533 35.8627C16.7268 35.8205 16.6636 35.7995 16.6425 35.7995C16.179 35.673 15.8419 35.4413 15.6101 35.1041C15.3783 34.7459 15.2729 34.4088 15.2729 34.0506ZM20.7935 39.9715L25.9348 21.4923C26.0191 21.092 26.2298 20.7759 26.5669 20.5652C26.9041 20.3545 27.2412 20.2491 27.5994 20.2491C27.7891 20.2491 27.9787 20.2702 28.1683 20.3124C28.6319 20.4388 28.969 20.7127 29.2008 21.1341C29.4326 21.5555 29.4747 21.998 29.3483 22.4827L24.2281 40.9829C24.1438 41.3411 23.9542 41.6361 23.617 41.889C23.2799 42.1418 22.9427 42.2682 22.5424 42.2682C22.3528 42.2682 22.1631 42.2261 22.0156 42.1629C21.5942 42.0575 21.236 41.7836 20.9199 41.3411C20.6882 40.9618 20.646 40.5194 20.7935 39.9715ZM29.4958 34.0927C29.4958 34.0084 29.5169 33.8609 29.5801 33.6081L33.0146 21.4502C33.1411 21.0498 33.3518 20.7338 33.6468 20.5231C33.9628 20.3124 34.2789 20.207 34.616 20.207C34.7846 20.207 34.9742 20.2281 35.1639 20.2702C35.6064 20.3966 35.9224 20.6074 36.1331 20.9234C36.3438 21.2395 36.4492 21.5766 36.4492 21.9137C36.4492 21.977 36.4281 22.0823 36.4071 22.2087C36.386 22.3352 36.3649 22.4194 36.3649 22.4616L32.9304 34.5352C32.8461 34.9356 32.6564 35.2727 32.3404 35.5045C32.0243 35.7363 31.6661 35.8627 31.2658 35.8627L30.7601 35.7573C30.3386 35.6309 30.0226 35.4202 29.7908 35.0831C29.6012 34.767 29.4958 34.4299 29.4958 34.0927Z" fill="currentColor"/>
                </g>
                <defs>
                  <filter id="filter0_d_5_4" x="0" y="0" width="51.68" height="50.2682" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                    <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                    <feOffset dy="4"/>
                    <feGaussianBlur stdDeviation="2"/>
                    <feComposite in2="hardAlpha" operator="out"/>
                    <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
                    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_5_4"/>
                    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_5_4" result="shape"/>
                  </filter>
                </defs>
              </svg>

          } else if (description.includes('shower rain')) {
            icon =
              <svg width="44" height="43" viewBox="0 0 44 43" fill="none" xmlns="http://www.w3.org/2000/svg" alt="Shower Rain">
                <path d="M0 19.9427C0 22.2827 0.695675 24.3697 2.08703 26.2038C3.47838 28.0378 5.27027 29.3027 7.48378 29.9773L6.11351 33.5189C6.05027 33.8141 6.15568 33.9827 6.40865 33.9827H10.8989L8.70649 41.9514H9.29676L17.6659 30.947C17.7503 30.8627 17.7503 30.7573 17.7081 30.6519C17.6659 30.5465 17.5605 30.5043 17.413 30.5043H12.8173L18.0454 20.7227C18.1719 20.4276 18.0876 20.28 17.7503 20.28H11.5524C11.3627 20.28 11.1941 20.3854 11.0886 20.5751L8.79081 26.6254C7.29405 26.2459 6.05027 25.4238 5.05946 24.18C4.06865 22.9362 3.58378 21.5238 3.58378 19.9427C3.58378 18.193 4.17405 16.6751 5.35459 15.3892C6.53513 14.1032 8.01081 13.3654 9.78162 13.1546L10.8778 13.007C11.1519 13.007 11.2995 12.8805 11.2995 12.6486L11.447 11.5524C11.6578 9.27568 12.6065 7.3573 14.3141 5.81838C16.0216 4.27946 18.0243 3.49946 20.3222 3.49946C22.62 3.49946 24.6227 4.27946 26.3303 5.81838C28.0589 7.3573 29.0286 9.27568 29.2816 11.5524L29.4081 12.7751C29.4081 13.0281 29.5346 13.1546 29.8086 13.1546H33.2027C35.1211 13.1546 36.7443 13.8292 38.0935 15.1573C39.4427 16.4854 40.1173 18.0876 40.1173 19.9638C40.1173 21.7557 39.4849 23.3157 38.2411 24.6227C36.9973 25.9297 35.4584 26.6465 33.6243 26.7941C33.3503 26.7941 33.2027 26.9205 33.2027 27.1946V30.0827C33.2027 30.3146 33.3503 30.4411 33.6243 30.4411C34.9946 30.3989 36.3016 30.0827 37.5454 29.5135C38.7892 28.9443 39.8643 28.1854 40.7497 27.2578C41.6351 26.3303 42.3519 25.2341 42.8789 23.9481C43.4059 22.6832 43.68 21.3551 43.68 19.9849C43.68 18.0876 43.2162 16.3378 42.2676 14.7357C41.3189 13.1335 40.0541 11.8686 38.4519 10.9411C36.8497 10.0135 35.1 9.54973 33.2238 9.54973H32.5492C31.8535 6.74595 30.3778 4.44811 28.1011 2.6773C25.8243 0.906487 23.2524 0 20.3432 0C17.3708 0 14.7146 0.927568 12.4168 2.76162C10.1189 4.59568 8.64324 6.95676 7.98973 9.84486C5.67081 10.393 3.75243 11.5946 2.23459 13.4919C0.716757 15.3892 0 17.5184 0 19.9427ZM17.2022 40.7286C17.2022 41.0659 17.3076 41.3822 17.5184 41.6984C17.7292 42.0146 18.0665 42.2465 18.4881 42.373C18.7832 42.4362 18.9519 42.4784 19.0151 42.4784C19.2049 42.4784 19.4578 42.4151 19.8162 42.2676C20.2589 42.0778 20.5541 41.6984 20.7016 41.1713L21.2919 38.9578C21.4184 38.4941 21.3762 38.0513 21.1232 37.6297C20.8703 37.2081 20.5119 36.9341 20.0059 36.7865C19.5422 36.66 19.0995 36.7022 18.6778 36.9551C18.2562 37.2081 17.9611 37.5665 17.8135 38.0724L17.2443 40.1805C17.2232 40.5389 17.2022 40.7286 17.2022 40.7286ZM20.027 30.673C20.027 30.9681 20.1324 31.2843 20.3432 31.6005C20.5541 31.9168 20.8703 32.1486 21.2919 32.2962C21.7557 32.4438 22.2195 32.4227 22.6411 32.1908C23.0627 31.9589 23.3368 31.6005 23.4843 31.0946L24.1168 28.9022C24.2432 28.4384 24.18 27.9957 23.9481 27.5741C23.6951 27.1524 23.3157 26.8573 22.8308 26.7097C22.3459 26.5832 21.9032 26.6254 21.4605 26.8784C21.0178 27.1314 20.7438 27.4897 20.5962 27.9746L20.0903 30.1038C20.0481 30.4622 20.027 30.6519 20.027 30.673ZM25.9719 34.1514C25.9719 34.5097 26.0773 34.8681 26.3092 35.2265C26.5411 35.5849 26.8784 35.8168 27.3 35.9643C27.3422 35.9643 27.4265 35.9854 27.553 36.0065C27.6584 36.0276 27.7427 36.0486 27.8059 36.0486C28.08 36.0486 28.3541 36.0065 28.607 35.88C29.0076 35.7324 29.3027 35.3319 29.4714 34.6784L29.9984 32.5492C30.1459 32.0643 30.1038 31.6005 29.8719 31.1578C29.64 30.7151 29.2816 30.42 28.8178 30.2724C28.2908 30.1459 27.8059 30.2092 27.3843 30.4411C26.9627 30.6941 26.6886 31.0735 26.6043 31.5584L26.0351 33.7297C25.993 33.8562 25.9719 34.0038 25.9719 34.1514ZM28.8389 24.0535C28.8178 24.3908 28.9232 24.707 29.1551 25.0443C29.387 25.3816 29.7243 25.6346 30.1881 25.8454C30.3568 25.9297 30.5254 25.9719 30.7362 25.9719C30.9681 25.9719 31.2 25.9086 31.453 25.8032C31.8957 25.5924 32.1908 25.1919 32.3805 24.6016L32.9919 22.4303C33.0341 22.1562 33.0551 22.0087 33.0551 21.9665C33.0551 21.6081 32.9497 21.2708 32.7178 20.9335C32.4859 20.5962 32.1486 20.3643 31.6849 20.2378C31.6427 20.2378 31.5584 20.2168 31.453 20.1957C31.3265 20.1324 31.2422 20.1324 31.1789 20.1324C30.8205 20.1324 30.4832 20.2378 30.1459 20.4486C29.8086 20.6595 29.5768 20.9968 29.4503 21.4605L28.8811 23.5897C28.86 23.7584 28.8389 23.9059 28.8389 24.0535Z" fill="currentColor"/>
              </svg>


          } else if (description.includes('thunderstorm')) {
            icon =
              <svg width="44" height="44" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg" alt="Thunderstorm">
                <path d="M0 19.9884C0 22.3239 0.694335 24.4069 2.08301 26.2375C3.47168 28.068 5.28116 29.3304 7.51144 30.0037L6.12277 33.5385C6.05965 33.8331 6.16486 34.0014 6.41734 34.0014H10.899L8.83699 43.0488H9.42613L17.674 30.9505C17.7582 30.8664 17.7582 30.7612 17.695 30.656C17.6319 30.5508 17.5267 30.5087 17.3794 30.5087H12.7926L18.0106 20.7459C18.1579 20.4513 18.0527 20.283 17.7161 20.283H11.5302C11.3408 20.283 11.1725 20.3882 11.0462 20.5986L8.79491 26.6372C7.30104 26.2585 6.05965 25.4379 5.07075 24.1965C4.08185 22.9551 3.59792 21.5454 3.59792 19.9674C3.59792 18.221 4.18705 16.7061 5.38636 15.4016C6.58566 14.1182 8.0585 13.3607 9.80486 13.1503L10.92 13.003C11.1935 13.003 11.3408 12.8768 11.3408 12.6243L11.4881 11.5512C11.7195 9.27884 12.6664 7.36416 14.3706 5.82821C16.0749 4.29226 18.0738 3.51376 20.3672 3.51376C22.6606 3.51376 24.6594 4.29226 26.3637 5.82821C28.089 7.36416 29.0569 9.27884 29.3094 11.5512L29.4566 12.7716C29.4566 13.003 29.5829 13.1292 29.8354 13.1292H33.2019C35.1165 13.1292 36.7366 13.8025 38.0832 15.1281C39.4298 16.4536 40.1242 18.0738 40.1242 19.9253C40.1242 21.7138 39.493 23.2708 38.2516 24.5753C37.0102 25.8798 35.4532 26.6162 33.6227 26.7635C33.3491 26.7635 33.2019 26.8897 33.2019 27.1422V30.0247C33.2019 30.2562 33.3491 30.3824 33.6227 30.3824C36.421 30.2983 38.7986 29.2252 40.7554 27.2053C42.7121 25.1854 43.68 22.7658 43.68 19.9464C43.68 18.0527 43.2171 16.3064 42.2703 14.7073C41.3445 13.1082 40.061 11.8458 38.462 10.92C36.8418 9.99422 35.0955 9.53133 33.2019 9.53133H32.5496C31.8553 6.73295 30.3614 4.43954 28.1101 2.67214C25.8587 0.904741 23.2708 0 20.3672 0C17.4005 0 14.7494 0.925781 12.456 2.7563C10.1625 4.58682 8.68971 6.94335 8.03746 9.8259C5.70196 10.3729 3.78728 11.5723 2.27237 13.4659C0.757456 15.3595 0 17.5688 0 19.9884ZM17.1269 40.4187C17.1269 41.2393 17.5267 41.7864 18.3473 42.0388C18.3683 42.0388 18.4525 42.0388 18.5787 42.0599C18.705 42.0809 18.8102 42.0809 18.8733 42.0809C19.231 42.0809 19.5676 41.9757 19.9043 41.7653C20.2409 41.5549 20.4724 41.2183 20.5776 40.7554L25.3117 22.4712C25.4379 21.9662 25.3958 21.5244 25.1644 21.1036C24.9329 20.7038 24.5963 20.4303 24.1124 20.283C23.7547 20.2409 23.5653 20.2199 23.5653 20.2199C23.2287 20.2199 22.892 20.3251 22.5764 20.5355C22.2608 20.7459 22.0294 21.0615 21.9242 21.4823L17.169 39.8296C17.148 40.04 17.1269 40.2294 17.1269 40.4187ZM25.8798 33.9803C25.8798 34.2539 25.9429 34.5274 26.0902 34.7799C26.3847 35.2428 26.7424 35.5584 27.1632 35.7057C27.3947 35.7688 27.6051 35.8109 27.7945 35.8109C27.9838 35.8109 28.2153 35.7688 28.4677 35.6425C28.9096 35.4532 29.2042 35.0534 29.3514 34.4432L32.3813 22.5133C32.4444 22.2187 32.4865 22.0294 32.4865 21.9452C32.4865 21.6296 32.3813 21.314 32.1498 20.9984C31.9184 20.6828 31.6028 20.4513 31.182 20.3251C30.8243 20.283 30.6349 20.262 30.6349 20.262C30.2772 20.262 29.9406 20.3672 29.646 20.5776C29.3514 20.788 29.141 21.1036 29.0148 21.5244L25.9429 33.5175C25.9429 33.5595 25.9429 33.6227 25.9219 33.7489C25.8798 33.8541 25.8798 33.9172 25.8798 33.9803Z" fill="currentColor"/>
              </svg>
            
            
          } else if (description.includes('broken clouds')) { //I ran out of free icon imports need to replace this
            icon = 
              <svg className='weatherIcon' width="44.4675" height="32.6095" fill="none" viewBox="0 0 30 22" xmlns="http://www.w3.org/2000/svg" alt="Broken Clouds">
                <path d="M0 14.0363C0 12.3959 0.513494 10.941 1.54048 9.65731C2.56747 8.37357 3.86547 7.54628 5.44874 7.18968C5.89091 5.23555 6.90364 3.63802 8.45838 2.38281C10.0131 1.1276 11.8104 0.5 13.8215 0.5C15.7899 0.5 17.5444 1.11334 19.0849 2.32576C20.6253 3.53817 21.6238 5.10718 22.0802 7.01852H22.5509C23.8347 7.01852 25.0186 7.33232 26.1026 7.94566C27.1866 8.559 28.0567 9.41482 28.6843 10.4989C29.3119 11.5829 29.64 12.7525 29.64 14.0363C29.64 15.2915 29.3405 16.4611 28.7414 17.5309C28.1423 18.6007 27.315 19.4565 26.2738 20.0983C25.2325 20.7402 24.0772 21.0825 22.8362 21.1253H6.84658C4.93525 21.0398 3.32345 20.3123 1.99692 18.943C0.670395 17.5879 0 15.9476 0 14.0363ZM2.4391 14.0363C2.4391 15.2772 2.86701 16.347 3.72283 17.2599C4.57865 18.1727 5.6199 18.6577 6.84658 18.729H22.8077C24.0344 18.672 25.0756 18.1727 25.9314 17.2599C26.8015 16.347 27.2294 15.2629 27.2294 14.0363C27.2294 12.7811 26.7587 11.7113 25.8316 10.7984C24.9044 9.88552 23.8061 9.42909 22.5224 9.42909H20.2402C20.0833 9.42909 19.9977 9.3435 19.9977 9.17234L19.8979 8.35931C19.741 6.81883 19.0706 5.52083 17.901 4.47958C16.7313 3.43833 15.3763 2.91057 13.8215 2.91057C12.2668 2.91057 10.8975 3.43833 9.75638 4.47958C8.60102 5.52083 7.94489 6.81883 7.80225 8.35931L7.68814 9.17234C7.68814 9.3435 7.5883 9.42909 7.40287 9.42909H6.64689C5.44874 9.57172 4.45028 10.0852 3.65151 10.9553C2.85274 11.8254 2.4391 12.8524 2.4391 14.0363Z" fill="currentColor"/>
              </svg>;

	        } else if (description.includes('scattered clouds')) {
            icon = 
              <svg className='weatherIcon' width="44.4675" height="32.6095" fill="none" viewBox="0 0 30 22" xmlns="http://www.w3.org/2000/svg" alt="Scattered Clouds">
                <path d="M0 14.0363C0 12.3959 0.513494 10.941 1.54048 9.65731C2.56747 8.37357 3.86547 7.54628 5.44874 7.18968C5.89091 5.23555 6.90364 3.63802 8.45838 2.38281C10.0131 1.1276 11.8104 0.5 13.8215 0.5C15.7899 0.5 17.5444 1.11334 19.0849 2.32576C20.6253 3.53817 21.6238 5.10718 22.0802 7.01852H22.5509C23.8347 7.01852 25.0186 7.33232 26.1026 7.94566C27.1866 8.559 28.0567 9.41482 28.6843 10.4989C29.3119 11.5829 29.64 12.7525 29.64 14.0363C29.64 15.2915 29.3405 16.4611 28.7414 17.5309C28.1423 18.6007 27.315 19.4565 26.2738 20.0983C25.2325 20.7402 24.0772 21.0825 22.8362 21.1253H6.84658C4.93525 21.0398 3.32345 20.3123 1.99692 18.943C0.670395 17.5879 0 15.9476 0 14.0363ZM2.4391 14.0363C2.4391 15.2772 2.86701 16.347 3.72283 17.2599C4.57865 18.1727 5.6199 18.6577 6.84658 18.729H22.8077C24.0344 18.672 25.0756 18.1727 25.9314 17.2599C26.8015 16.347 27.2294 15.2629 27.2294 14.0363C27.2294 12.7811 26.7587 11.7113 25.8316 10.7984C24.9044 9.88552 23.8061 9.42909 22.5224 9.42909H20.2402C20.0833 9.42909 19.9977 9.3435 19.9977 9.17234L19.8979 8.35931C19.741 6.81883 19.0706 5.52083 17.901 4.47958C16.7313 3.43833 15.3763 2.91057 13.8215 2.91057C12.2668 2.91057 10.8975 3.43833 9.75638 4.47958C8.60102 5.52083 7.94489 6.81883 7.80225 8.35931L7.68814 9.17234C7.68814 9.3435 7.5883 9.42909 7.40287 9.42909H6.64689C5.44874 9.57172 4.45028 10.0852 3.65151 10.9553C2.85274 11.8254 2.4391 12.8524 2.4391 14.0363Z" fill="currentColor"/>
              </svg>;

          } else {
            icon = <span>{description}</span>;
          }

          return (
            <div key={index} className={`hourly-weather-item item-${index}`}>
              <h3>{new Date(forecast.dt_txt).getHours()}:00</h3>
              {icon}
              <h3>{kelvinToCelsius(forecast.main.temp)}°</h3>
            </div>
          );
        })}
      </div>
    </div>
  );
}

export default HourlyWeatherBox;
